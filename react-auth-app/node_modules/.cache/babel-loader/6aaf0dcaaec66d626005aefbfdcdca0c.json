{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Laptop\\\\PycharmProjects\\\\useful\\\\node-react\\\\react-node-express-mysql\\\\react-auth-app\\\\src\\\\components\\\\login.component.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport { Paper, Box, Grid, TextField, Typography, Button } from '@material-ui/core';\nimport AuthService from \"../services/auth.service\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Home from \"./home.component\";\nimport Register from \"./register.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n}\n\nconst Login = () => {\n  _s();\n\n  var _errors$username, _errors$password;\n\n  const validationSchema = Yup.object().shape({\n    username: Yup.string().required('Fullname is required'),\n    password: Yup.string().required('Password is required').min(6, 'Password must be at least 6 characters').max(40, 'Password must not exceed 40 characters')\n  });\n  const {\n    register,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(validationSchema)\n  });\n\n  const onSubmit = data => {\n    // Prevent page refresh\n    console.log(JSON.stringify(data, null, 2)); //\n\n    AuthService.login(data.username, data.password).then(() => {\n      /*#__PURE__*/\n      _jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: [\"/\", \"/home\"],\n          component: Home\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/login\",\n          component: Home\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/register\",\n          component: Register\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this); // window.location.reload();\n\n    }, error => {\n      const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        mt: 5,\n        px: 3,\n        py: 5,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 1,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 12,\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              inputProps: {\n                style: {\n                  padding: 10\n                }\n              },\n              required: true,\n              id: \"username\",\n              name: \"username\",\n              label: \"Username\",\n              fullWidth: true,\n              margin: \"dense\",\n              ...register('username'),\n              error: errors.username ? true : false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"inherit\",\n              color: \"textSecondary\",\n              children: (_errors$username = errors.username) === null || _errors$username === void 0 ? void 0 : _errors$username.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 12,\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              inputProps: {\n                style: {\n                  padding: 10\n                }\n              },\n              required: true,\n              id: \"password\",\n              name: \"password\",\n              label: \"Password\",\n              type: \"password\",\n              fullWidth: true,\n              margin: \"dense\",\n              ...register('password'),\n              error: errors.password ? true : false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"inherit\",\n              color: \"textSecondary\",\n              children: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mt: 3,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: onSubmit(handleSubmit()),\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"Fg4zLRrIfgH13C1UW2V+JxmScO0=\", false, function () {\n  return [useForm];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Laptop/PycharmProjects/useful/node-react/react-node-express-mysql/react-auth-app/src/components/login.component.js"],"names":["React","Fragment","useForm","yupResolver","Yup","Paper","Box","Grid","TextField","Typography","Button","AuthService","Route","Switch","Home","Register","handleSubmit","e","preventDefault","Login","validationSchema","object","shape","username","string","required","password","min","max","register","formState","errors","resolver","onSubmit","data","console","log","JSON","stringify","login","then","error","resMessage","response","message","toString","style","padding"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AAEA,SACEC,KADF,EAEEC,GAFF,EAGEC,IAHF,EAIEC,SAJF,EAKEC,UALF,EAMEC,MANF,QAOO,mBAPP;AAQA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,SAAQC,KAAR,EAAeC,MAAf,QAA4B,kBAA5B;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,QAAP,MAAqB,sBAArB;;;AAEA,SAASC,YAAT,CAAsBC,CAAtB,EAAyB;AACrBA,EAAAA,CAAC,CAACC,cAAF;AACD;;AAEH,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAAA;;AAClB,QAAMC,gBAAgB,GAAGhB,GAAG,CAACiB,MAAJ,GAAaC,KAAb,CAAmB;AAC1CC,IAAAA,QAAQ,EAAEnB,GAAG,CAACoB,MAAJ,GAAaC,QAAb,CAAsB,sBAAtB,CADgC;AAE1CC,IAAAA,QAAQ,EAAEtB,GAAG,CAACoB,MAAJ,GACPC,QADO,CACE,sBADF,EAEPE,GAFO,CAEH,CAFG,EAEA,wCAFA,EAGPC,GAHO,CAGH,EAHG,EAGC,wCAHD;AAFgC,GAAnB,CAAzB;AAQA,QAAM;AACJC,IAAAA,QADI;AAEJC,IAAAA,SAAS,EAAE;AAAEC,MAAAA;AAAF;AAFP,MAGF7B,OAAO,CAAC;AACV8B,IAAAA,QAAQ,EAAE7B,WAAW,CAACiB,gBAAD;AADX,GAAD,CAHX;;AASA,QAAMa,QAAQ,GAAGC,IAAI,IAAI;AACvB;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAZ,EAJuB,CAMvB;;AACAvB,IAAAA,WAAW,CAAC4B,KAAZ,CAAkBL,IAAI,CAACX,QAAvB,EAAiCW,IAAI,CAACR,QAAtC,EAAgDc,IAAhD,CACE,MAAM;AACJ;AAAA,cAAC,MAAD;AAAA,gCACI,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAE,CAAC,GAAD,EAAM,OAAN,CAAnB;AAAmC,UAAA,SAAS,EAAE1B;AAA9C;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,QAAlB;AAA2B,UAAA,SAAS,EAAEA;AAAtC;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,WAAlB;AAA8B,UAAA,SAAS,EAAEC;AAAzC;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,eADI,CAMJ;;AACD,KARH,EASE0B,KAAK,IAAI;AACP,YAAMC,UAAU,GACbD,KAAK,CAACE,QAAN,IACCF,KAAK,CAACE,QAAN,CAAeT,IADhB,IAECO,KAAK,CAACE,QAAN,CAAeT,IAAf,CAAoBU,OAFtB,IAGAH,KAAK,CAACG,OAHN,IAIAH,KAAK,CAACI,QAAN,EALF;AAMD,KAhBH;AAkBD,GAzBD;;AA2BA,sBACE,QAAC,QAAD;AAAA,2BACE,QAAC,KAAD;AAAA,6BACE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAY,QAAA,EAAE,EAAE,CAAhB;AAAmB,QAAA,EAAE,EAAE,CAAvB;AAAA,gCACE,QAAC,IAAD;AAAM,UAAA,SAAS,MAAf;AAAgB,UAAA,OAAO,EAAE,CAAzB;AAAA,kCAEE,QAAC,IAAD;AAAM,YAAA,IAAI,MAAV;AAAW,YAAA,EAAE,EAAE,EAAf;AAAmB,YAAA,EAAE,EAAE,EAAvB;AAAA,oCACE,QAAC,SAAD;AACE,cAAA,UAAU,EAAE;AACVC,gBAAAA,KAAK,EAAE;AACLC,kBAAAA,OAAO,EAAE;AADJ;AADG,eADd;AAME,cAAA,QAAQ,MANV;AAOE,cAAA,EAAE,EAAC,UAPL;AAQE,cAAA,IAAI,EAAC,UARP;AASE,cAAA,KAAK,EAAC,UATR;AAUE,cAAA,SAAS,MAVX;AAWE,cAAA,MAAM,EAAC,OAXT;AAAA,iBAYMlB,QAAQ,CAAC,UAAD,CAZd;AAaE,cAAA,KAAK,EAAEE,MAAM,CAACR,QAAP,GAAkB,IAAlB,GAAyB;AAblC;AAAA;AAAA;AAAA;AAAA,oBADF,eAgBE,QAAC,UAAD;AAAY,cAAA,OAAO,EAAC,SAApB;AAA8B,cAAA,KAAK,EAAC,eAApC;AAAA,4CACGQ,MAAM,CAACR,QADV,qDACG,iBAAiBqB;AADpB;AAAA;AAAA;AAAA;AAAA,oBAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAuBE,QAAC,IAAD;AAAM,YAAA,IAAI,MAAV;AAAW,YAAA,EAAE,EAAE,EAAf;AAAmB,YAAA,EAAE,EAAE,EAAvB;AAAA,oCACE,QAAC,SAAD;AACE,cAAA,UAAU,EAAE;AACVE,gBAAAA,KAAK,EAAE;AACLC,kBAAAA,OAAO,EAAE;AADJ;AADG,eADd;AAME,cAAA,QAAQ,MANV;AAOE,cAAA,EAAE,EAAC,UAPL;AAQE,cAAA,IAAI,EAAC,UARP;AASE,cAAA,KAAK,EAAC,UATR;AAUE,cAAA,IAAI,EAAC,UAVP;AAWE,cAAA,SAAS,MAXX;AAYE,cAAA,MAAM,EAAC,OAZT;AAAA,iBAaMlB,QAAQ,CAAC,UAAD,CAbd;AAcE,cAAA,KAAK,EAAEE,MAAM,CAACL,QAAP,GAAkB,IAAlB,GAAyB;AAdlC;AAAA;AAAA;AAAA;AAAA,oBADF,eAiBE,QAAC,UAAD;AAAY,cAAA,OAAO,EAAC,SAApB;AAA8B,cAAA,KAAK,EAAC,eAApC;AAAA,4CACGK,MAAM,CAACL,QADV,qDACG,iBAAiBkB;AADpB;AAAA;AAAA;AAAA;AAAA,oBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAiDE,QAAC,GAAD;AAAK,UAAA,EAAE,EAAE,CAAT;AAAA,iCACE,QAAC,MAAD;AACE,YAAA,OAAO,EAAC,WADV;AAEE,YAAA,KAAK,EAAC,SAFR;AAGE,YAAA,OAAO,EAAEX,QAAQ,CAACjB,YAAY,EAAb,CAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAjDF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAiED,CA9GD;;GAAMG,K;UAYAjB,O;;;KAZAiB,K;AAgHN,eAAeA,KAAf","sourcesContent":["import React, { Fragment } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as Yup from 'yup';\r\n\r\nimport {\r\n  Paper,\r\n  Box,\r\n  Grid,\r\n  TextField,\r\n  Typography,\r\n  Button\r\n} from '@material-ui/core';\r\nimport AuthService from \"../services/auth.service\";\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport Home from \"./home.component\";\r\nimport Register from \"./register.component\";\r\n\r\nfunction handleSubmit(e) {\r\n    e.preventDefault();\r\n  }\r\n\r\nconst Login = () => {\r\n  const validationSchema = Yup.object().shape({\r\n    username: Yup.string().required('Fullname is required'),\r\n    password: Yup.string()\r\n      .required('Password is required')\r\n      .min(6, 'Password must be at least 6 characters')\r\n      .max(40, 'Password must not exceed 40 characters')\r\n  });\r\n\r\n  const {\r\n    register,\r\n    formState: { errors }\r\n  } = useForm({\r\n    resolver: yupResolver(validationSchema)\r\n  });\r\n\r\n\r\n\r\n  const onSubmit = data => {\r\n    // Prevent page refresh\r\n\r\n\r\n    console.log(JSON.stringify(data, null, 2));\r\n\r\n    //\r\n    AuthService.login(data.username, data.password).then(\r\n      () => {\r\n        <Switch>\r\n            <Route exact path={[\"/\", \"/home\"]} component={Home}/>\r\n            <Route exact path=\"/login\" component={Home}/>\r\n            <Route exact path=\"/register\" component={Register}/>\r\n          </Switch>\r\n        // window.location.reload();\r\n      },\r\n      error => {\r\n        const resMessage =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString();\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Paper>\r\n        <Box mt={5} px={3} py={5}>\r\n          <Grid container spacing={1}>\r\n\r\n            <Grid item xs={12} sm={12}>\r\n              <TextField\r\n                inputProps={{\r\n                  style: {\r\n                    padding: 10\r\n                  }\r\n                }}\r\n                required\r\n                id=\"username\"\r\n                name=\"username\"\r\n                label=\"Username\"\r\n                fullWidth\r\n                margin=\"dense\"\r\n                {...register('username')}\r\n                error={errors.username ? true : false}\r\n              />\r\n              <Typography variant=\"inherit\" color=\"textSecondary\">\r\n                {errors.username?.message}\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={12}>\r\n              <TextField\r\n                inputProps={{\r\n                  style: {\r\n                    padding: 10\r\n                  }\r\n                }}\r\n                required\r\n                id=\"password\"\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                fullWidth\r\n                margin=\"dense\"\r\n                {...register('password')}\r\n                error={errors.password ? true : false}\r\n              />\r\n              <Typography variant=\"inherit\" color=\"textSecondary\">\r\n                {errors.password?.message}\r\n              </Typography>\r\n            </Grid>\r\n\r\n\r\n          </Grid>\r\n\r\n          <Box mt={3}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={onSubmit(handleSubmit())}\r\n            >\r\n              Login\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      </Paper>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}